<div class="edit-survey-fullpage-bg">
  <!-- Header -->
  <div class="edit-survey-header">
    <button class="back-dashboard-btn" (click)="goToDashboard()">
      ‚Üê Back to Dashboard
    </button>
    <div class="header-content">
      <h1 class="edit-survey-main-title">Edit My Surveys</h1>
      <p class="edit-survey-subtitle">Select a question to edit</p>
    </div>
  </div>

  <!-- Main Content -->
  <div class="edit-survey-container">
    <!-- Loading State -->
    <div *ngIf="isLoading" class="loading-container">
      <div class="loading-spinner"></div>
      <p>Loading your surveys...</p>
    </div>

    <!-- Error State -->
    <div *ngIf="error && !isLoading" class="error-container">
      <div class="error-icon">‚ö†Ô∏è</div>
      <p class="error-message">{{ error }}</p>
      <button class="retry-btn" (click)="loadSurveyQuestions()">Try Again</button>
    </div>

    <!-- Empty State -->
    <div *ngIf="!isLoading && !error && surveys.length === 0" class="empty-state">
      <div class="empty-icon">üìù</div>
      <h2>No Surveys to Edit</h2>
      <p>You haven't created any surveys yet. Create one first!</p>
      <button class="create-survey-btn" (click)="goToDashboard()">Go to Dashboard</button>
    </div>

    <!-- Surveys List -->
    <div *ngIf="!isLoading && !error && surveys.length > 0" class="surveys-list">
      <div *ngFor="let survey of surveys; let surveyIndex = index" class="survey-card">
        
        <!-- Question Header -->
        <div class="question-header">
          <h2 class="question-text">{{ surveyIndex + 1 }}) {{ survey.surveyQuestionName }}</h2>
        </div>

        <!-- Answers Container -->
        <div class="answers-container">
          <div *ngFor="let answer of survey.surveyAnswers; let answerIndex = index" 
               class="answer-item"
               [class.has-votes]="answer.answerPercentage > 0">
            
            <!-- Answer Content -->
            <div class="answer-content">
              <div class="answer-left">
                <div class="answer-letter">{{ getAnswerLetter(answerIndex) }})</div>
                <span class="answer-text">{{ answer.answerName }}</span>
              </div>
              <div class="answer-right">
                <span class="answer-percentage">{{ answer.answerPercentage }}%</span>
              </div>
            </div>

            <!-- Progress Bar -->
            <div class="progress-background">
              <div class="progress-fill" [style.width.%]="answer.answerPercentage"></div>
            </div>
          </div>
        </div>

        <!-- Edit Button -->
        <div class="edit-button-container">
          <button class="edit-survey-btn" (click)="editQuestion(survey)">
            ‚úèÔ∏è Edit This Survey
          </button>
        </div>

      </div>
    </div>
  </div>
</div>